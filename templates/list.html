{% extends "base.html" %}
{% block title %}Blog Posts{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{STATIC_URL}}css/blog.css" />
    <div id="content" >

        <!-- Posts  -->
        <ul>
	<article>
            {% for post in posts.object_list %}
		<section>
                <header>
		<h1><a href="{% url blogs.views.post post.pk %}">{{ post.title }}</a></h1>
                </header>
               
                    <div >{{ post.body|linebreaks|truncatewords:50}}</div>
                    <footer>
			<div id="post_footer">{% ifnotequal post.body|linebreaks post.body|linebreaks|truncatewords:50 %}
			
<a class="readmore" href="{% url blogs.views.post post.pk  %}"><b>read more...</b></a>{%else%}
<b><s>   read more</s> ...</b>
{%endifnotequal%}
									Posted By  <a href="mailto:{{post.email}}">{{post.name}} </a>at {{post.created}}.</div>
		    </footer>
		<div id="commentlink"><a href="{% url blogs.views.post post.pk %}">Comments</a></div>
		</section>
		<hr/>
            {% endfor %}
	</article>	
        </ul>

        <!-- Next/Prev page links  -->
        {% if posts.object_list and posts.paginator.num_pages > 1 %}
        <div  style="margin-top: 20px; margin-left: -20px; ">
            <span >
                {% if posts.has_previous %}
                    <a href= "?page={{ posts.previous_page_number }}">newer entries &lt;&lt; </a>
                {% endif %}

                <span >
                    &nbsp;Page {{ posts.number }} of {{ posts.paginator.num_pages }}
                </span>

                {% if posts.has_next %}
                    <a href="?page={{ posts.next_page_number }}"> &gt;&gt; older entries</a>
                {% endif %}
            </span>
        </div>
        {% endif %}

    </div>

{% endblock %}
